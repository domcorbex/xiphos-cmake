--------------------------------------
Documentation Guidelines
---------------------------------------

Welcome to the Xiphos documentation guidelines.
This document will contain some guidelines for writing/submitting a good patch
to the Xiphos documentation project.

Any new features or large scale work should first be discussed on the
xiphos-devel mailing-list first.  This will ensure the idea fits in the
direction we wish to take Xiphos, and also that the effort is not
duplicated.

-----------------
General:
-----------------

Xiphos documentation is written in Mallard Markup language.
To write mallard documentation, you should have some familiarity with markup
languages such as HTML and XML.

1. Please read the Gnome Documentation Project guidelines. If you would like a
copy of it in PDF format, please email one of the Documentation developers.
 * https://wiki.gnome.org/DocumentationProject

Other resources:
 * http://projectmallard.org
 * http://write.flossmanuals.net/introduction-to-mallard/editorial-comments/
 * http://blogs.gnome.org/shaunm/files/2012/01/mallardcheatsheet.png

2. Whilst editing, you can view your changes by simply going into your working
directory and running :	" yelp index.page". You may have to give the full path,
like this: "yelp `pwd`/index.page"
   Also, using yelp-check can save a lot of frustration:
   "yelp-check validate *.page"

This also helps with finding errors and debugging.


-----------------
Translations
-----------------

Mallard documents are translated with itstool and portable object (PO) files,
which are a standard way of translating messages on Unix-like systems.

1. For adding a new language, create a directory with the ISO 639-1 standard
two-letter code of the language. For a list of language codes, see:
https://www.gnu.org/software/gettext/manual/html_node/Usual-Language-Codes.html
then create a .po file.

Example for Italian:

$ cd help
$ mkdir -p it
$ msgmerge --update --verbose it/it.po xiphos.pot

Then add the language code to LINGUAS.

2. Edit the .po file manually with your favorite editor (emacs, vi, gedit) or
with one of the available programs for this (gtranslator, poedit), creating
the translation.

You can add your localized screenshots. They go into the YOUR-LANG/figures
directory.
Once you have added them, copy the script ./C/figures/index_all_pngs.py to
YOUR-LANG/figures and run it. You will need to have the GIMP installed for this
to work.

3. Updating. When a new version of the help file is available, it's easy to
update the po file. Fortunately, integration with CMake hides much of the
underlying complexity of the tools.

In your build directory, run
$ ninja help_pot_update
$ ninja help_po_update_<lang>

This takes the list of Mallard pages, extracts the translatable strings and
merges them into a PO template (POT) file which will be named xiphos.pot.
The POT file contains a list of translatable strings combined with information
about the location of the string in files and any comments which the help author
may have added.
The resulting POT file is then merged in the current .PO file.

-----------------
Files:
----------------

1. A Mallard help document is composed of several independent pages. Each page
is kept in a separate XML file with the file extension .page.
Every Mallard document requires a front page to serve as an overarching index,
whose filename is index.page.

2. By default, Mallard will order all topic pages alphabetically on the index
page. Guide pages can be nested within other guide pages to create organization
on the index page.


------------------
Screenshots:
-------------------

1. screenshots will only be accepted if it is in the "Simple" theme. It can be
accessed by going:

	Applications -> Desktop Preferences -> Theme
	or
	by simply running the command "gnome-theme-manager" in the terminal.

2. Please use discretion about image sizes. This includes file size and images
size ( length and height). While there is no rule or standard to how big the
image must be, visibility of the screenshot and visibility within "Yelp" is the
main priority. We don't want to user to scroll horizontally just to view a
screenshot. I normally keep my screenshot width at a maximum of 600 pixels.

3. file naming will be done with the prefix of the interface ( eg. preferences,
underscore, interface subsection ( eg. font-color ),
eg. "preferences_fontscolor.png"
NOTE: please use lower-case.

------------------
Windows Help files
-----------------

The DocBook copies are the master copy. Any alterations on the Windows
helpfiles should only be done if the addition is absolutely and definitely
Windows specific about a Windows subject only. If it is advise about the
way a common problem is solved in Windows (and a similar piece of advice
should be given to Unix/Linux users, please add your addition to Docbook.

